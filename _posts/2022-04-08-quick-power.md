---
layout: post
title: "Quick Power 알고리즘"
subtitle: "m^n"
date: 2022-04-08 21:11:31 +0800
categories: [algorithm]
---

# Power(m, n) 빨리 구하기

* 여러가지 언어에서 모두 power() 함수를 제공한다.

* power(m, n) 는 m^n 의 값을 구해주는 함수인데 이런 수학함수는 기본적으로 제공하여준다.

***

* 하지만 이함수를 리용할때 효률이 너무 높지않다. 특히 수자가 특별히 클때 이함수의 운행은 엄청 오랜시간을 소모할뿐만 아니라 표시하는 범위도 double 에 제한되여있다.

* 이런 문제를 해결하기위해 문제풀이에서는 보통 quick power 알고리즘을 쓴다.
  
```cpp
  int mul(int x, int y) { // quick power, for x ^ y
      int result = 1, base = x;
      while(y) {
          if(y & 1) result = result * base;
          base = base * base;
          y >>= 1; // move one 'bit'
      }
      return result;
  }
  ```
* 함수엔 두개의 매개변수가 있는데 각각 밑수와 지수를 대표한다. 이 알고리즘의 원리는 이렇다:

    >밑수가 x, 지수가 y 라고 가정했을때, x^y 는 x 를 y 곱해주는걸 뜻한다. 이때 우리가 이진법을 리용해 y 를 이진법으로 표시하여준다. 례를 들면 y := 19 일때 y = 00010011(2) 이렇게 표시하여 줄수있다.
    
    >이때 이진제를 십진제로 전환하여주는 방법을 떠올려 본다면 이진법에서 1이 있는곳에 대응되는 base수를 곱해 주면 되는데 y = 00010011(2) 일때 우리는 y = 128 * 0 + 64 * 0 + 32 * 0 + 16 * 1 + 0 * 8 + 0 * 4 + 1 * 2 + 1 * 1 = 19 이렇게 전환시킬수있다.

    >이 전환방법을 power하는 과정에 사용할수있다. 밑수가 같고 지수가 있는 곱하기 계산에서는 지수의 합을 구하면 되기에 지수를 이진법으로 고친후 '1'비트가 존재하는 자리만 분리하여 값을 구한후 그것들을 곱하기 계산하여주면 된다.

    >례를 들면: 5^3 를 계산할때 3 의 이진법은 3 = 0011(2) 이렇게 표시하여 줄수 있는데 3번째 자리와 4번째 자리에 '1'이 있는곳의 값을 구해준다. 4번째 자리의 '1': 5 ^ (1) = 5, 3번째 자리의 '1': 5 ^ (2) = 25; 마지막 결과: 5 * 25 = 125 정확하게 얻을수 있다.

    >작은 수자에서는 이렇게 생각할수 있지만 비교적 큰 수자를 계산할때에는 지수의 마지막 'bit' 까지 검사하여 순환을 써주면 된다.
